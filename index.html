<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Login - Government of Italy</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: sans-serif; background: #f4f4f4; }
    .container { max-width: 400px; margin: 5vh auto; background: white; padding: 2rem; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
    input, button { width: 100%; margin-top: 1rem; padding: 0.8rem; border-radius: 6px; border: 1px solid #ccc; }
    button { background: #0056b3; color: white; border: none; cursor: pointer; }
    button:disabled { background: #999; }
    #loading { display: none; text-align: center; margin-top: 1rem; }
    #secondPage, #dashboard { display: none; }
    .dashboard-container { display: flex; height: 100vh; }
    .sidebar { width: 250px; background: #eee; padding: 1rem; display: flex; flex-direction: column; gap: 1rem; }
    .sidebar button:disabled { background: #ccc; }
    .main { flex: 1; padding: 1rem; display: flex; flex-direction: column; }
    header { background: #003366; color: white; padding: 1rem; display: flex; align-items: center; justify-content: space-between; }
    header img { height: 40px; }
    header h1 { font-size: 1.2rem; text-align: center; flex-grow: 1; }
    .a4image { flex: 1; display: flex; align-items: center; justify-content: center; }
    .a4image img { width: 210mm; height: 297mm; object-fit: contain; }
    @media (max-width: 600px) {
      .dashboard-container { flex-direction: column; }
      .sidebar { width: 100%; flex-direction: row; overflow-x: auto; }
    }
  </style>
</head>
<body>
<div class="container" id="loginPage">
  <h2>ورود</h2>
  <input type="email" id="email" placeholder="ایمیل آدرس" required />
  <input type="password" id="password" placeholder="رمز عبور" required />
  <input type="text" id="caseNumber" placeholder="نمبر پرونده" required />
  <button onclick="validateLogin()">ورود</button>
  <div id="loading"><img src="loading.gif" alt="Loading..." width="50" /></div>
  <p id="error" style="color:red"></p>
</div><div class="container" id="secondPage">
  <h2>بررسی معلومات</h2>
  <div id="fields"></div>
  <button onclick="goToDashboard()">تایید و ادامه</button>
  <div id="loading2"><img src="loading.gif" alt="Loading..." width="50" /></div>
  <p id="error2" style="color:red"></p>
</div><div id="dashboard">
  <header>
    <img src="logo.png" alt="Logo">
    <h1>دولت جمهوری ایتالیا</h1>
    <div></div>
  </header>
  <div class="dashboard-container">
    <div class="sidebar">
      <button onclick="location.href=userData.link1">درخواست ابتدایی</button>
      <button onclick="location.href=userData.link2">نتیجه درخواست</button>
      <button onclick="location.href=userData.link3">تاریخ مصاحبه حضوری</button>
      <button disabled>فایل پاسپورت</button>
      <button disabled>فایل عکس پرسونلی</button>
    </div>
    <div class="main">
      <div class="a4image">
        <img src="a4image.jpg" alt="A4 Image" />
      </div>
    </div>
  </div>
</div><script>
  let users = [];
  let userData = null;

  fetch('data.json')
    .then(res => res.json())
    .then(data => users = data);

  function validateLogin() {
    document.getElementById('loading').style.display = 'block';
    const email = document.getElementById('email').value;
    const pass = document.getElementById('password').value;
    const caseNum = document.getElementById('caseNumber').value;

    setTimeout(() => {
      const match = users.find(u => u.email === email && u.password === pass && u.caseNumber === caseNum);
      if (match) {
        userData = match;
        document.getElementById('loginPage').style.display = 'none';
        document.getElementById('secondPage').style.display = 'block';
        document.getElementById('fields').innerHTML = `
          <p><strong>نام:</strong> ${match.firstname}</p>
          <p><strong>تخلص:</strong> ${match.lastname}</p>
          <p><strong>ملیت:</strong> ${match.nationality}</p>
          <p><strong>شماره پاسپورت / کارت ملی:</strong> ${match.document}</p>
          <p><strong>نمبر پرونده:</strong> ${match.caseNumber}</p>
        `;
      } else {
        document.getElementById('error').innerText = 'اطلاعات اشتباه است';
      }
      document.getElementById('loading').style.display = 'none';
    }, 1000);
  }

  function goToDashboard() {
    document.getElementById('loading2').style.display = 'block';
    setTimeout(() => {
      document.getElementById('secondPage').style.display = 'none';
      document.getElementById('dashboard').style.display = 'block';
    }, 1000);
  }
</script></body>
</html>
